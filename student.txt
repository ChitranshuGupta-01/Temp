import axios from "axios";
const BASE_URL = "http://localhost:8080/documents";

const getAllDocuments = () => axios.get(BASE_URL);

const createDocument = (docData, file) => {
  const formData = new FormData();
  formData.append("file", file);
  formData.append("document", new Blob([JSON.stringify(docData)], { type: "application/json" }));

  return axios.post(BASE_URL, formData, {
    headers: { "Content-Type": "multipart/form-data" },
  });
};

const updateDocument = (id, docData) => axios.put(`${BASE_URL}/${id}`, docData);

const deleteDocument = (id) => axios.delete(`${BASE_URL}/${id}`);

export default {
  getAllDocuments,
  createDocument,
  updateDocument,
  deleteDocument,
};
