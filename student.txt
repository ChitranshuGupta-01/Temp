// src/app/utils/session.js

// Save token + expiry (15 minutes)
export function setSession(token) {
  const expiry = Date.now() + 15 * 60 * 1000; // 15 min
  sessionStorage.setItem("authToken", token);
  sessionStorage.setItem("expiry", expiry.toString());
}

// Get token from sessionStorage
export function getToken() {
  return sessionStorage.getItem("authToken");
}

// Clear session
export function clearSession() {
  sessionStorage.removeItem("authToken");
  sessionStorage.removeItem("expiry");
}

// Validate token and expiry
export function isSessionValid() {
  const token = sessionStorage.getItem("authToken");
  const expiry = sessionStorage.getItem("expiry");

  if (!token || !expiry) return false;
  return Date.now() < parseInt(expiry);
}
